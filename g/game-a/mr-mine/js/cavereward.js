class CaveReward{name;icon;caveDepth;locationNode;activateOnPickup;rewardAmount=0;collectionTime=60;isClaimed=!1;distanceFromNode=0;constructor(e){this.locationNode=e}pickUp(){this.locationNode=null}drop(e){this.locationNode=e}grant(){}setRewardAmount(e,t,a){}loadRewardAmount(e){}canBeCollected(e){return!this.isClaimed}getName(){return _(this.name)}}class CaveBasicChest extends CaveReward{name="Basic Chest";icon=caveIconBasicChest;activateOnPickup=!1;difficultyReduction=0;grant(){chestService.spawnChest(0,Chest.cave,ChestType.basic),chestService.presentChest(0)}setRewardAmount(e,t,a){this.rewardAmount=1}loadRewardAmount(e){this.rewardAmount=parseInt(e)}}class CaveBuff extends CaveReward{name="Buff";icon=caveIconBuff;activateOnPickup=!1;difficultyReduction=0;grant(){grantStaticBuff()}setRewardAmount(e,t,a){this.rewardAmount=1}loadRewardAmount(e){this.rewardAmount=parseInt(e)}}class CaveBuildingMaterials extends CaveReward{name="Building Materials";icon=caveIconBuildingMaterials;activateOnPickup=!1;difficultyReduction=0;grant(){var e=parseInt(this.rewardAmount);worldResources[BUILDING_MATERIALS_INDEX].numOwned+=e,newNews(_("You collected {0} Building Materials from a cave",e))}setRewardAmount(e,t,a){this.rewardAmount=caveRoller.rand(1,Math.min(10,Math.ceil(e)))}loadRewardAmount(e){this.rewardAmount=parseInt(e)}getName(){return this.rewardAmount+"x "+_(this.name)}}class CaveGoldChest extends CaveReward{name="Gold Chest";icon=caveIconGoldChest;activateOnPickup=!1;difficultyReduction=0;grant(){chestService.spawnChest(0,Chest.cave,ChestType.gold),chestService.presentChest(0)}setRewardAmount(e,t,a){this.rewardAmount=1}loadRewardAmount(e){this.rewardAmount=parseInt(e)}}class CaveHealthPack extends CaveReward{name="Health Pack";icon=caveIconHealthPack;activateOnPickup=!0;healAmount=10;difficultyReduction=3;pickUp(e){}grant(e){e.currentHealth=Math.min(e.totalHealth,e.currentHealth+parseInt(4*this.rewardAmount)),e.currentFuel=Math.min(e.totalFuel,e.currentFuel+parseInt(this.rewardAmount))}canBeCollected(e){return e.currentHealth<e.totalHealth||e.currentFuel<e.totalFuel}setRewardAmount(e,t,a){this.rewardAmount=this.healAmount+5*Math.floor(t/10)}loadRewardAmount(e){this.rewardAmount=parseInt(e)}}class CaveMineralPile extends CaveReward{name="Mineral Pile";icon=caveIconMineralPile;activateOnPickup=!1;difficultyReduction=0;grant(){trackEvent_GainedMoney(this.rewardAmount,3,!0);var e=mineralIds.indexOf(levels[this.caveDepth][0][0]),t=mineralIds[caveRoller.rand(Math.max(0,e-2),e)],a=worldResources[t].sellValue,n=this.rewardAmount.divide(a);worldResources[t].numOwned+=parseInt(n),newNews(_("You gained {0} x {1}",beautifynum(n),worldResources[t].name),!0)}setRewardAmount(e,t,a){this.caveDepth=a;var n=Math.floor((t+1)*e*depthMultiplier()*100)/100,r=valueOfMineralsPerSecond().multiply(60*n);this.rewardAmount=new BigNumber(r)}loadRewardAmount(e){this.rewardAmount=new BigNumber(e)}}class CaveMoneyBag extends CaveReward{name="Money Bag";icon=caveIconMoneyBag;activateOnPickup=!1;difficultyReduction=0;grant(){trackEvent_GainedMoney(this.rewardAmount,3),addMoney(this.rewardAmount),newNews(_("You gained ${0} from a cave",beautifynum(this.rewardAmount)),!0)}setRewardAmount(e,t,a){var n=2*(t+1),r=n*Math.max(1.5,e)*depthMultiplier(),i=caveRoller.rand(n,r);this.rewardAmount=doBigNumberDecimalMultiplication(valueOfMineralsPerSecond(),60*i*STAT.chestMoneyMultiplier())}loadRewardAmount(e){this.rewardAmount=new BigNumber(e)}getName(){return"$"+beautifynum(this.rewardAmount)}}class CaveScientist extends CaveReward{name="Scientist";icon=caveIconScientist;activateOnPickup=!1;difficultyReduction=0;grant(){if(isActiveScientistsFull()){var e=caveRoller.rand(1,3)-1,t=45*getScientistLevel(e),a=Math.floor(t/2),n=caveRoller.rand(a,t);activeScientists[e][1]+=n,newNews(_("Your scientist slots are full. {0} was granted {1} experience instead!",scientists[activeScientists[e][0]].name,n))}else grantRandomScientist()}setRewardAmount(e,t,a){}loadRewardAmount(e){this.rewardAmount=parseInt(e)}}class CaveTimelapse extends CaveReward{name="Timelapse";icon=caveIconTimelapse;activateOnPickup=!1;difficultyReduction=0;grant(){var e=grantTimelapse(this.rewardAmount);newNews(_("You collected a {0} from a cave",e))}setRewardAmount(e,t,a){this.rewardAmount=Math.round(Math.max(10,1.5*e)+caveRoller.rand(0,3))}loadRewardAmount(e){this.rewardAmount=parseInt(e)}getName(){return _("{0} Minute Timelapse",this.rewardAmount)}}class CaveCandyCane extends CaveReward{name="CandyCane";icon=holidayCurrencyIcon;activateOnPickup=!0;difficultyReduction=0;grant(){limitedTimeEventManager.isXmas()?(worldResources[HOLIDAY_RESOURCE_INDEX].numOwned++,newNews(_("You collected a Candy Cane from a cave"))):newNews(_("Unable to collect {0} the event is over","Candy Cane"))}setRewardAmount(e,t,a){this.rewardAmount=1}loadRewardAmount(e){this.rewardAmount=1}getName(){return _("Candy Cane")}}class CaveDroneReward extends CaveReward{name="Drone";icon=null;rewardAmount=-1;constructor(e){super(e)}grant(){learnBlueprint(craftingCategories.drones,this.rewardAmount),learnBlueprint(craftingCategories.droneUpgrades,this.rewardAmount),newNews(_("You collected a {0} from a cave",this.getName()))}getName(){return this.name+" "+_("Blueprint")}setRewardAmount(e){this.setDroneId(e)}loadRewardAmount(e){this.setDroneId(e)}setDroneId(e){this.rewardAmount=e;var t=getDroneById(e);this.name=t.translatedName,this.icon=t.icon}}