class QuestButton extends Hitbox{quest;glowEffect;parentElement;parentContext;tooltipWidth;constructor(t,i){super(i,{},"pointer"),this.quest=t,this.glowEffect=new EasyHintHighlight((()=>this.quest.isCollectable()||this.quest.requiresInteraction())),this.glowEffect.highlightColor="#F2C948",this.glowEffect.highlightBlur=12,this.glowEffect.fillRelativeAlpha=.1,this.glowEffect.lineWidth=6,this.glowEffect.sizeReduction=6,this.glowEffect.minAlpha=.1,this.tooltipWidth=mainw*(isMobile()?.7:.2),this.addHitbox(this.glowEffect)}onmousedown(){this.quest.isCollectable()?this.quest.collect():this.quest.additionalOnClick&&this.quest.isVisible()&&(hideTooltip(),this.quest.additionalOnClick())}onmouseenter(){var t=this.getGlobalCoordinates(0,this.boundingBox.height);showUpdatingTooltip(this.quest.getFormattedTooltip.bind(this.quest),t.x*uiScaleX,t.y*uiScaleY,this.tooltipWidth)}onmouseexit(){hideTooltip()}render(){this.glowEffect.highlightColor=this.quest.requiresInteraction()?"#F248E4":"#F2C948",this.parentContext.save();var t=this.getRelativeCoordinates(0,0,this.parent,!1),i=this.quest.getIcon();void 0===i&&(i=questguy),this.parentContext.drawImage(i,t.x,t.y,this.boundingBox.width,this.boundingBox.height),this.parentContext.restore(),this.renderChildren()}onBecomeChild(){this.parent=this.getFirstElementWithContext(),this.parent&&(this.parentContext=this.parent.context)}}