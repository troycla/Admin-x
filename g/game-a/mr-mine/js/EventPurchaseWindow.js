class EventPurchaseWindow extends TabbedPopupWindow{layerName="EventPurchase";domElementId="PURCHASED";context=PU;constructor(i){super(i),i||this.setBoundingBox(),this.popupFrameImage=xmasFrame,this.backgroundImage=snowBG,this.initializeTabs([]),this.addHitbox(new Hitbox({x:.06*this.boundingBox.width,y:.56*this.boundingBox.height,width:.26*this.boundingBox.width,height:.08*this.boundingBox.height},{onmousedown:function(){worldResources[HOLIDAY_RESOURCE_INDEX].numOwned>0?(chestService.spawnChest(0,Chest.purchased,ChestType.basic),chestService.presentChest(0),worldResources[HOLIDAY_RESOURCE_INDEX].numOwned--):newNews(_("Not enough candy canes. You need 1 candy cane.")),mutebuttons||clickAudio[rand(0,clickAudio.length-1)].play()}},"pointer")),this.addHitbox(new Hitbox({x:.37*this.boundingBox.width,y:.56*this.boundingBox.height,width:.26*this.boundingBox.width,height:.08*this.boundingBox.height},{onmousedown:function(){worldResources[HOLIDAY_RESOURCE_INDEX].numOwned>9?(chestService.spawnChest(0,Chest.purchased,ChestType.gold),chestService.presentChest(0),worldResources[HOLIDAY_RESOURCE_INDEX].numOwned-=10):newNews(_("Not enough candy canes. You need 10 candy canes. You have {0} candy canes.",worldResources[HOLIDAY_RESOURCE_INDEX].numOwned)),mutebuttons||clickAudio[rand(0,clickAudio.length-1)].play()}},"pointer")),this.addHitbox(new Hitbox({x:.67*this.boundingBox.width,y:.56*this.boundingBox.height,width:.26*this.boundingBox.width,height:.08*this.boundingBox.height},{onmousedown:function(){worldResources[HOLIDAY_RESOURCE_INDEX].numOwned>=30?(chestService.spawnChest(0,Chest.purchased,ChestType.black),chestService.presentChest(0),worldResources[HOLIDAY_RESOURCE_INDEX].numOwned-=30):newNews(_("Not enough candy canes. You need 30 candy canes. You have {0} candy canes.",worldResources[HOLIDAY_RESOURCE_INDEX].numOwned)),mutebuttons||clickAudio[rand(0,clickAudio.length-1)].play()}},"pointer"))}render(){this.context.save(),this.context.clearRect(0,0,this.boundingBox.width,this.boundingBox.height),super.render(),PU.fillStyle="#FFFFFF",this.context.lineWidth=1,this.context.shadowOffsetX=0,this.context.shadowOffsetY=0,PU.drawImage(xmasPurchase1,0,0,xmasPurchase1.width,xmasPurchase1.height,.04*this.boundingBox.width,.2*this.boundingBox.height,.3*this.boundingBox.width,.48*this.boundingBox.height),drawImageFitInBox(this.context,basicChestIconClosed,.01*this.boundingBox.height,.2*this.boundingBox.height,.35*this.boundingBox.width,.48*this.boundingBox.height,"center","left"),PU.drawImage(xmasPurchase3,0,0,xmasPurchase3.width,xmasPurchase3.height,.345*this.boundingBox.width,.2*this.boundingBox.height,.3*this.boundingBox.width,.48*this.boundingBox.height),drawImageFitInBox(this.context,goldChestIconClosed,.315*this.boundingBox.width,.2*this.boundingBox.height,.35*this.boundingBox.width,.48*this.boundingBox.height,"center","left"),PU.drawImage(xmasPurchase2,0,0,xmasPurchase2.width,xmasPurchase2.height,.65*this.boundingBox.width,.2*this.boundingBox.height,.3*this.boundingBox.width,.48*this.boundingBox.height),drawImageFitInBox(this.context,blackChestIconClosed,.62*this.boundingBox.width,.2*this.boundingBox.height,.35*this.boundingBox.width,.48*this.boundingBox.height,"center","left"),PU.font="24px KanitM",PU.fillStyle="#FFFFFF",PU.fillText(_("BUY"),.05*this.boundingBox.width+.3*this.boundingBox.width/2-PU.measureText(_("BUY")).width/2,.2*this.boundingBox.height+.42*this.boundingBox.height),PU.fillText(_("BUY"),.345*this.boundingBox.width+.3*this.boundingBox.width/2-PU.measureText(_("BUY")).width/2,.2*this.boundingBox.height+.42*this.boundingBox.height),PU.fillText(_("BUY"),.65*this.boundingBox.width+.3*this.boundingBox.width/2-PU.measureText(_("BUY")).width/2,.2*this.boundingBox.height+.42*this.boundingBox.height),drawImageFitInBox(this.context,holidayCurrencyIconHD,.45*this.boundingBox.width,.85*this.boundingBox.height,.09*this.boundingBox.width,.05*this.boundingBox.height,"center","left"),PU.fillStyle="#000000",PU.fillText("x"+worldResources[HOLIDAY_RESOURCE_INDEX].numOwned,.52*this.boundingBox.width,.89*this.boundingBox.height),this.context.restore()}}