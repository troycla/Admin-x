class Slider extends Hitbox{targetContext;cursor="pointer";sliderHitbox;troughHeightFraction=.85;markerWidth=10;markerColor="#76E374";troughColor="#252525";markerPosition=0;minValue=0;maxValue=1;value=0;mode="exponential";isDraggingBar=!1;onchange;constructor(t,i,e,o,s){var h={x:i,y:e,width:o,height:s};super(h,{},""),this.targetContext=t,this.boundingBox=h,this.onwheel=function(t){this.setPosition(this.markerPosition-t.deltaY/5e3)}.bind(this),this.onmousedown=function(){this.isDraggingBar=!0,this.setPositionOnClick()}.bind(this),this.onmouseup=function(){this.isDraggingBar=!1}.bind(this)}render(){this.isDraggingBar&&this.setPositionOnClick();var t=this.getRootLayer(),i=this.getRelativeCoordinates(0,0,t);this.targetContext.save(),this.targetContext.strokeStyle=this.troughColor,this.targetContext.lineCap="round",this.targetContext.lineWidth=this.boundingBox.height*this.troughHeightFraction;var e=this.targetContext.lineWidth/2;this.targetContext.beginPath(),this.targetContext.moveTo(i.x+e,i.y+this.boundingBox.height/2),this.targetContext.lineTo(i.x-e+this.boundingBox.width,i.y+this.boundingBox.height/2),this.targetContext.stroke(),this.targetContext.fillStyle=this.markerColor,this.targetContext.fillRect(i.x+(this.boundingBox.width-2*e)*this.markerPosition-this.markerWidth/2+e,i.y,this.markerWidth,this.boundingBox.height),this.targetContext.restore(),super.render()}setPositionOnClick(){var t=this.getLocalCoordinates(mouseX/uiScaleX-this.markerWidth,mouseY/uiScaleY,this).x/(this.boundingBox.width-this.boundingBox.height);this.setPosition(t)}setPosition(t){switch(t<0?t=0:t>1&&(t=1),t!=this.markerPosition&&this.onchange&&this.onchange(),this.markerPosition=t,this.mode){case"linear":this.value=this.minValue+this.markerPosition*this.maxValue;break;case"exponential":var i=Math.log(1e-4),e=(Math.log(1)-i)/1;this.value=Math.exp(i+e*(this.markerPosition-0));break;default:this.value=this.minValue+this.markerPosition*this.maxValue}}}