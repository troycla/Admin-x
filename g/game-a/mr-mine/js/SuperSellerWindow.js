class SuperSellerWindow extends TabbedPopupWindow{layerName="SupSell";domElementId="SUPSELLD";context=SSD;constructor(e,i){super(e),e||this.setBoundingBox(),this.initializeTabs(Object.values({})),this.superMiner=i,this.resources={minerals:worldResources.filter((e=>!e.isIsotope&&e.isOnHeader&&e.index<=highestOreUnlocked||e.isIsotope&&e.index<=highestIsotopeUnlocked)).sort(((e,i)=>e.isIsotope-i.isIsotope))},this.mineralPane=new Scrollbox(.95*this.boundingBox.width,this.boundingBox.height+.04*this.boundingBox.height*Math.floor(this.resources.minerals.length/8),this.context,0,.15*this.boundingBox.height,.95*this.boundingBox.width,.76*this.boundingBox.height,15),this.addHitbox(this.mineralPane),this.mineralPane.setVisible(!0),this.mineralPane.setEnabled(!0),this.initializeSuperMinerHitboxes()}initializeSuperMinerHitboxes(){this.mineralPane.clearHitboxes();for(var e=0;e<this.resources.minerals.length;e++)this.mineralPane.addHitbox(new Hitbox({x:this.mineralPane.boundingBox.width*(.06+e%8*.02)+.1*this.mineralPane.boundingBox.width*(e%8),y:this.mineralPane.boundingBox.height*(.04+.02*Math.floor(e/8))+.1*this.mineralPane.boundingBox.width*Math.floor(e/8),width:.1*this.mineralPane.boundingBox.width,height:.1*this.mineralPane.boundingBox.width},{onmousedown:this.clickedMineral(e)},"pointer","mineral_"+e))}clickedMineral(e){return function(){let i=this.getRootLayer().resources.minerals[e].index;console.log(this.getRootLayer()),this.getRootLayer().superMiner.attachedMineralId=i,openUi(SuperMinerWindow,null,this.getRootLayer().superMiner)}}drawMineral(e,i,t,n){this.mineralPane.context.drawImage(darkdot,0,0,darkdot.width,darkdot.height,i,t,n,n),this.mineralPane.context.drawImage(e.largeIcon,0,0,e.largeIcon.width,e.largeIcon.height,i,t,n,n),drawFrame(this.mineralPane.context,itemFrame,i,t,n,n,4,4,0,0)}render(){this.context.save(),this.context.clearRect(0,0,this.boundingBox.width,this.boundingBox.height),this.context.restore(),super.render(),this.context.fillStyle="#000000",this.context.font=.07*this.boundingBox.height+"px KanitM",fillTextShrinkToFit(this.context,_("Select A Mineral"),.025*this.boundingBox.width,.05*this.boundingBox.height,.95*this.boundingBox.width,"Center"),this.mineralPane.context.clearRect(0,0,this.boundingBox.width,this.boundingBox.height),this.mineralPane.context.font=.1*this.mineralPane.boundingBox.height+"px KanitM",this.mineralPane.context.fillStyle="#000000";for(var e=0;e<this.resources.minerals.length;e++){let i=this.mineralPane.getHitboxById("mineral_"+e),t=this.resources.minerals[e];if(i){let e=i.boundingBox;this.drawMineral(t,e.x,e.y,e.width)}}}}