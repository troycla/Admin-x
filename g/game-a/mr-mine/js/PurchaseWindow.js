class PurchaseWindow extends TabbedPopupWindow{layerName="Purchase";domElementId="PURCHASED";context=PU;buyTabIndex=0;useTabIndex=1;buyButtons=[];useButtons=[];constructor(t,i=0,n=0){super(t),t||this.setBoundingBox(),this.setFrameImagesByWorldIndex(i),this.currentTabIndex=n;var o="14px Verdana";for(var e in"french"==language&&(o="12px Verdana"),1==purchaseWindowTabOrder?(this.initializeTabs([_("Use Tickets"),_("Get Tickets")]),this.useTabIndex=0,this.buyTabIndex=1):this.initializeTabs([_("Get Tickets"),_("Use Tickets")]),0==shopVariantId?(this.buyButtons.push(this.addHitbox(new Button(upgradeb,_("BUY"),o,"#000000",{x:.5*this.boundingBox.width-1.6*ticketImage1.width,y:1.6*ticketImage1.height,width:ticketImage1.width,height:18},{onmousedown:function(){platform.buyPack(1),mutebuttons||clickAudio[rand(0,clickAudio.length-1)].play()}},"pointer","buyButton1"))),this.buyButtons.push(this.addHitbox(new Button(upgradeb,_("BUY"),o,"#000000",{x:.5*this.boundingBox.width-.5*ticketImage1.width,y:1.6*ticketImage1.height,width:ticketImage1.width,height:18},{onmousedown:function(){platform.buyPack(2),mutebuttons||clickAudio[rand(0,clickAudio.length-1)].play()}},"pointer","buyButton2"))),this.buyButtons.push(this.addHitbox(new Button(upgradeb,_("BUY"),o,"#000000",{x:.5*this.boundingBox.width+.6*ticketImage1.width,y:1.6*ticketImage1.height,width:ticketImage1.width,height:18},{onmousedown:function(){platform.buyPack(3),mutebuttons||clickAudio[rand(0,clickAudio.length-1)].play()}},"pointer","buyButton3"))),this.buyButtons.push(this.addHitbox(new Button(upgradeb,_("BUY"),o,"#000000",{x:.5*this.boundingBox.width-1.6*ticketImage1.width,y:3.1*ticketImage1.height,width:ticketImage1.width,height:18},{onmousedown:function(){platform.buyPack(4),mutebuttons||clickAudio[rand(0,clickAudio.length-1)].play()}},"pointer","buyButton4"))),this.buyButtons.push(this.addHitbox(new Button(upgradeb,_("BUY"),o,"#000000",{x:.5*this.boundingBox.width-.5*ticketImage1.width,y:3.1*ticketImage1.height,width:ticketImage1.width,height:18},{onmousedown:function(){platform.buyPack(5),mutebuttons||clickAudio[rand(0,clickAudio.length-1)].play()},onmouseenter:function(){showTooltip(_("Buying this ticket pack also grants you the ability to name one of the miners in the game for all Mr.Mine players to see!<br><br>(Added to next update)"),"",mouseX,mouseY)},onmouseexit:function(){hideTooltip()}},"pointer","buyButton5"))),this.buyButtons.push(this.addHitbox(new Button(upgradeb,_("BUY"),o,"#000000",{x:.5*this.boundingBox.width+.6*ticketImage1.width,y:3.1*ticketImage1.height,width:ticketImage1.width,height:18},{onmousedown:function(){platform.buyPack(6),mutebuttons||clickAudio[rand(0,clickAudio.length-1)].play()},onmouseenter:function(){showTooltip(_("Buying this ticket pack also grants you the ability to name one of the miners in the game for all Mr.Mine players to see!<br><br>(Added to next update)"),"",mouseX,mouseY)},onmouseexit:function(){hideTooltip()}},"pointer","buyButton6")))):(this.buyButtons.push(this.addHitbox(new Hitbox({x:.07*this.bodyContainer.boundingBox.width,y:this.bodyContainer.boundingBox.y+.02*this.bodyContainer.boundingBox.height,width:.3*this.bodyContainer.boundingBox.width,height:.41*this.bodyContainer.boundingBox.height},{onmousedown:function(){platform.buyPack(1),mutebuttons||clickAudio[rand(0,clickAudio.length-1)].play()}},"pointer","newBuyButton1"))),this.buyButtons.push(this.addHitbox(new Hitbox({x:.39*this.bodyContainer.boundingBox.width,y:this.bodyContainer.boundingBox.y+.02*this.bodyContainer.boundingBox.height,width:.3*this.bodyContainer.boundingBox.width,height:.41*this.bodyContainer.boundingBox.height},{onmousedown:function(){platform.buyPack(2),mutebuttons||clickAudio[rand(0,clickAudio.length-1)].play()}},"pointer","newBuyButton2"))),this.buyButtons.push(this.addHitbox(new Hitbox({x:.71*this.bodyContainer.boundingBox.width,y:this.bodyContainer.boundingBox.y+.02*this.bodyContainer.boundingBox.height,width:.3*this.bodyContainer.boundingBox.width,height:.41*this.bodyContainer.boundingBox.height},{onmousedown:function(){platform.buyPack(3),mutebuttons||clickAudio[rand(0,clickAudio.length-1)].play()}},"pointer","newBuyButton3"))),this.buyButtons.push(this.addHitbox(new Hitbox({x:.07*this.bodyContainer.boundingBox.width,y:this.bodyContainer.boundingBox.y+.46*this.bodyContainer.boundingBox.height,width:.3*this.bodyContainer.boundingBox.width,height:.41*this.bodyContainer.boundingBox.height},{onmousedown:function(){platform.buyPack(4),mutebuttons||clickAudio[rand(0,clickAudio.length-1)].play()}},"pointer","newBuyButton4"))),this.buyButtons.push(this.addHitbox(new Hitbox({x:.36*this.bodyContainer.boundingBox.width,y:this.bodyContainer.boundingBox.y+.46*this.bodyContainer.boundingBox.height,width:.3*this.bodyContainer.boundingBox.width,height:.41*this.bodyContainer.boundingBox.height},{onmousedown:function(){platform.buyPack(5),mutebuttons||clickAudio[rand(0,clickAudio.length-1)].play()},onmouseenter:function(){showTooltip(_("Buying this ticket pack also grants you the ability to name one of the miners in the game for all Mr.Mine players to see!<br><br>(Added to next update)"),"",this.parent.boundingBox.x+.62*this.parent.boundingBox.width,this.parent.boundingBox.y+.48*this.parent.boundingBox.height)},onmouseexit:function(){hideTooltip()}},"pointer","newBuyButton5"))),this.buyButtons.push(this.addHitbox(new Hitbox({x:.65*this.bodyContainer.boundingBox.width,y:this.bodyContainer.boundingBox.y+.46*this.bodyContainer.boundingBox.height,width:.3*this.bodyContainer.boundingBox.width,height:.41*this.bodyContainer.boundingBox.height},{onmousedown:function(){platform.buyPack(6),mutebuttons||clickAudio[rand(0,clickAudio.length-1)].play()},onmouseenter:function(){showTooltip(_("Buying this ticket pack also grants you the ability to name one of the miners in the game for all Mr.Mine players to see!<br><br>(Added to next update)"),"",this.parent.boundingBox.x+.91*this.parent.boundingBox.width,this.parent.boundingBox.y+.48*this.parent.boundingBox.height)},onmouseexit:function(){hideTooltip()}},"pointer","newBuyButton6")))),this.useButtons.push(this.addHitbox(new Hitbox({x:.06*purchasedw,y:.57*purchasedh,width:.26*purchasedw,height:.08*purchasedh},{onmousedown:function(){if(tickets>0){if(depth<40);else depth;chestService.spawnChest(0,Chest.purchased,ChestType.basic),chestService.presentChest(0),trackEvent_SpentTickets(1,"BASIC CHEST"),tickets--}else newNews(_("Not enough tickets. You need 1 ticket."));mutebuttons||clickAudio[rand(0,clickAudio.length-1)].play()}},"pointer"))),this.useButtons.push(this.addHitbox(new Hitbox({x:.37*purchasedw,y:.57*purchasedh,width:.26*purchasedw,height:.08*purchasedh},{onmousedown:function(){if(tickets>9){if(depth<40);else depth;chestService.spawnChest(0,Chest.purchased,ChestType.gold),chestService.presentChest(0),trackEvent_SpentTickets(10,"GOLD CHEST"),tickets-=10}else newNews(_("Not enough tickets. You need 10 tickets. You have {0} tickets.",tickets));mutebuttons||clickAudio[rand(0,clickAudio.length-1)].play()}},"pointer"))),this.useButtons.push(this.addHitbox(new Hitbox({x:.67*purchasedw,y:.57*purchasedh,width:.26*purchasedw,height:.08*purchasedh},{onmousedown:function(){if(tickets>=30){if(depth<40);else depth;chestService.spawnChest(0,Chest.purchased,ChestType.black),chestService.presentChest(0),trackEvent_SpentTickets(30,"BLACK CHEST"),tickets-=30}else newNews(_("Not enough tickets. You need 30 tickets. You have {0} tickets.",tickets));mutebuttons||clickAudio[rand(0,clickAudio.length-1)].play()}},"pointer"))),this.useButtons.push(this.addHitbox(new Button(craftb,_("REDEEM"),o,"#000000",{x:.75*purchasedw,y:.85*purchasedh,width:.2*purchasedw,height:.04*purchasedh},{onmousedown:function(){showRedeemPrompt(),mutebuttons||clickAudio[rand(0,clickAudio.length-1)].play()}},"pointer"))),this.buyButtons)this.buyButtons[e].isVisible=()=>this.currentTabIndex==this.buyTabIndex,this.buyButtons[e].isEnabled=()=>this.currentTabIndex==this.buyTabIndex;for(var e in this.useButtons)this.useButtons[e].isVisible=()=>this.currentTabIndex==this.useTabIndex,this.useButtons[e].isEnabled=()=>this.currentTabIndex==this.useTabIndex;this.onTabChange(),trackEvent_logPurchaseWindowOpen()}render(){this.context.save(),this.context.clearRect(0,0,this.boundingBox.width,this.boundingBox.height),this.context.restore(),super.render(),PU.fillStyle="#FFFFFF";language,this.currentTabIndex==this.buyTabIndex?(this.context.drawImage(v5Tix10,.07*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.02*this.bodyContainer.boundingBox.height,.3*this.bodyContainer.boundingBox.width,.41*this.bodyContainer.boundingBox.height),this.context.drawImage(v5Tix55,.39*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.02*this.bodyContainer.boundingBox.height,.3*this.bodyContainer.boundingBox.width,.41*this.bodyContainer.boundingBox.height),this.context.drawImage(v5Tix120,.71*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.02*this.bodyContainer.boundingBox.height,.3*this.bodyContainer.boundingBox.width,.41*this.bodyContainer.boundingBox.height),this.context.drawImage(v5Tix250,.07*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.46*this.bodyContainer.boundingBox.height,.3*this.bodyContainer.boundingBox.width,.41*this.bodyContainer.boundingBox.height),this.context.drawImage(v5Tix650,.39*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.46*this.bodyContainer.boundingBox.height,.3*this.bodyContainer.boundingBox.width,.41*this.bodyContainer.boundingBox.height),this.context.drawImage(v5Tix1400,.71*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.46*this.bodyContainer.boundingBox.height,.3*this.bodyContainer.boundingBox.width,.41*this.bodyContainer.boundingBox.height),this.context.fillStyle="#FFF",this.context.strokeStyle="#000",this.context.font="22px Matiz",this.context.lineWidth=4,this.context.fillStyle="#FFF",this.context.shadowColor="black",this.context.shadowOffsetX=1,this.context.shadowOffsetY=4,strokeTextShrinkToFit(this.context,"$1.00",.1*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.38*this.bodyContainer.boundingBox.height,.24*this.bodyContainer.boundingBox.width,"center",0),fillTextShrinkToFit(this.context,"$1.00",.1*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.38*this.bodyContainer.boundingBox.height,.24*this.bodyContainer.boundingBox.width,"center",0),strokeTextShrinkToFit(this.context,"$5.00",.42*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.38*this.bodyContainer.boundingBox.height,.24*this.bodyContainer.boundingBox.width,"center",0),fillTextShrinkToFit(this.context,"$5.00",.42*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.38*this.bodyContainer.boundingBox.height,.24*this.bodyContainer.boundingBox.width,"center",0),strokeTextShrinkToFit(this.context,"$10.00",.74*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.38*this.bodyContainer.boundingBox.height,.24*this.bodyContainer.boundingBox.width,"center",0),fillTextShrinkToFit(this.context,"$10.00",.74*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.38*this.bodyContainer.boundingBox.height,.24*this.bodyContainer.boundingBox.width,"center",0),strokeTextShrinkToFit(this.context,"$20.00",.1*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.82*this.bodyContainer.boundingBox.height,.24*this.bodyContainer.boundingBox.width,"center",0),fillTextShrinkToFit(this.context,"$20.00",.1*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.82*this.bodyContainer.boundingBox.height,.24*this.bodyContainer.boundingBox.width,"center",0),strokeTextShrinkToFit(this.context,"$50.00",.42*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.82*this.bodyContainer.boundingBox.height,.24*this.bodyContainer.boundingBox.width,"center",0),fillTextShrinkToFit(this.context,"$50.00",.42*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.82*this.bodyContainer.boundingBox.height,.24*this.bodyContainer.boundingBox.width,"center",0),strokeTextShrinkToFit(this.context,"$100.00",.74*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.82*this.bodyContainer.boundingBox.height,.24*this.bodyContainer.boundingBox.width,"center",0),fillTextShrinkToFit(this.context,"$100.00",.74*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.82*this.bodyContainer.boundingBox.height,.24*this.bodyContainer.boundingBox.width,"center",0),this.context.lineWidth=3,this.context.shadowOffsetX=0,this.context.shadowOffsetY=1,this.context.font="14px Verdana",strokeTextShrinkToFit(this.context,_("Pack of {0} tickets",10),.1*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.07*this.bodyContainer.boundingBox.height,.24*this.bodyContainer.boundingBox.width,"center",0),fillTextShrinkToFit(this.context,_("Pack of {0} tickets",10),.1*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.07*this.bodyContainer.boundingBox.height,.24*this.bodyContainer.boundingBox.width,"center",0),strokeTextShrinkToFit(this.context,_("Pack of {0} tickets",55),.42*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.07*this.bodyContainer.boundingBox.height,.24*this.bodyContainer.boundingBox.width,"center",0),fillTextShrinkToFit(this.context,_("Pack of {0} tickets",55),.42*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.07*this.bodyContainer.boundingBox.height,.24*this.bodyContainer.boundingBox.width,"center",0),strokeTextShrinkToFit(this.context,_("Pack of {0} tickets",120),.74*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.07*this.bodyContainer.boundingBox.height,.24*this.bodyContainer.boundingBox.width,"center",0),fillTextShrinkToFit(this.context,_("Pack of {0} tickets",120),.74*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.07*this.bodyContainer.boundingBox.height,.24*this.bodyContainer.boundingBox.width,"center",0),strokeTextShrinkToFit(this.context,_("Pack of {0} tickets",250),.1*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.51*this.bodyContainer.boundingBox.height,.24*this.bodyContainer.boundingBox.width,"center",0),fillTextShrinkToFit(this.context,_("Pack of {0} tickets",250),.1*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.51*this.bodyContainer.boundingBox.height,.24*this.bodyContainer.boundingBox.width,"center",0),strokeTextShrinkToFit(this.context,_("Pack of {0} tickets",650),.42*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.51*this.bodyContainer.boundingBox.height,.24*this.bodyContainer.boundingBox.width,"center",0),fillTextShrinkToFit(this.context,_("Pack of {0} tickets",650),.42*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.51*this.bodyContainer.boundingBox.height,.24*this.bodyContainer.boundingBox.width,"center",0),strokeTextShrinkToFit(this.context,_("Pack of {0} tickets",1400),.74*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.51*this.bodyContainer.boundingBox.height,.24*this.bodyContainer.boundingBox.width,"center",0),fillTextShrinkToFit(this.context,_("Pack of {0} tickets",1400),.74*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.51*this.bodyContainer.boundingBox.height,.24*this.bodyContainer.boundingBox.width,"center",0),showShopBadges&&(this.context.font="18px Matiz",drawImageFitInBox(this.context,salesStar,.62*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.09*this.bodyContainer.boundingBox.height,.1*this.bodyContainer.boundingBox.width,.1*this.bodyContainer.boundingBox.height),strokeTextShrinkToFit(this.context,"+10%",.64*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.14*this.bodyContainer.boundingBox.height,.06*this.bodyContainer.boundingBox.width,"center",0),fillTextShrinkToFit(this.context,"+10%",.64*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.14*this.bodyContainer.boundingBox.height,.06*this.bodyContainer.boundingBox.width,"center",0),drawImageFitInBox(this.context,salesStar,.94*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.09*this.bodyContainer.boundingBox.height,.1*this.bodyContainer.boundingBox.width,.1*this.bodyContainer.boundingBox.height),strokeTextShrinkToFit(this.context,"+20%",.96*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.14*this.bodyContainer.boundingBox.height,.06*this.bodyContainer.boundingBox.width,"center",0),fillTextShrinkToFit(this.context,"+20%",.96*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.14*this.bodyContainer.boundingBox.height,.06*this.bodyContainer.boundingBox.width,"center",0),drawImageFitInBox(this.context,salesStar,.3*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.53*this.bodyContainer.boundingBox.height,.1*this.bodyContainer.boundingBox.width,.1*this.bodyContainer.boundingBox.height),strokeTextShrinkToFit(this.context,"+25%",.32*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.58*this.bodyContainer.boundingBox.height,.06*this.bodyContainer.boundingBox.width,"center",0),fillTextShrinkToFit(this.context,"+25%",.32*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.58*this.bodyContainer.boundingBox.height,.06*this.bodyContainer.boundingBox.width,"center",0),drawImageFitInBox(this.context,salesBanner,.095*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.4*this.bodyContainer.boundingBox.height,.25*this.bodyContainer.boundingBox.width,.1*this.bodyContainer.boundingBox.height),drawImageFitInBox(this.context,salesStar,.62*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.53*this.bodyContainer.boundingBox.height,.1*this.bodyContainer.boundingBox.width,.1*this.bodyContainer.boundingBox.height),strokeTextShrinkToFit(this.context,"+30%",.64*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.58*this.bodyContainer.boundingBox.height,.06*this.bodyContainer.boundingBox.width,"center",0),fillTextShrinkToFit(this.context,"+30%",.64*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.58*this.bodyContainer.boundingBox.height,.06*this.bodyContainer.boundingBox.width,"center",0),drawImageFitInBox(this.context,salesStar,.94*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.53*this.bodyContainer.boundingBox.height,.1*this.bodyContainer.boundingBox.width,.1*this.bodyContainer.boundingBox.height),strokeTextShrinkToFit(this.context,"+40%",.96*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.58*this.bodyContainer.boundingBox.height,.06*this.bodyContainer.boundingBox.width,"center",0),fillTextShrinkToFit(this.context,"+40%",.96*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.58*this.bodyContainer.boundingBox.height,.06*this.bodyContainer.boundingBox.width,"center",0),drawImageFitInBox(this.context,salesBanner,.735*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.4*this.bodyContainer.boundingBox.height,.25*this.bodyContainer.boundingBox.width,.1*this.bodyContainer.boundingBox.height)),showShopPurchaseHeaders&&(strokeTextShrinkToFit(this.context,_("Most Popular"),.115*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.46*this.bodyContainer.boundingBox.height,.2*this.bodyContainer.boundingBox.width,"center",0),fillTextShrinkToFit(this.context,_("Most Popular"),.115*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.46*this.bodyContainer.boundingBox.height,.2*this.bodyContainer.boundingBox.width,"center",0),strokeTextShrinkToFit(this.context,_("Best Value"),.755*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.46*this.bodyContainer.boundingBox.height,.2*this.bodyContainer.boundingBox.width,"center",0),fillTextShrinkToFit(this.context,_("Best Value"),.755*this.bodyContainer.boundingBox.width,this.bodyContainer.boundingBox.y+.46*this.bodyContainer.boundingBox.height,.2*this.bodyContainer.boundingBox.width,"center",0)),this.context.lineWidth=1,this.context.shadowOffsetX=0,this.context.shadowOffsetY=0,PU.fillStyle="#FFF",PU.font="24px KanitM",PU.drawImage(smallShopTicket,0,0,smallShopTicket.width,smallShopTicket.height,.45*purchasedw,.85*purchasedh,.09*purchasedw,.05*purchasedh),PU.fillText("x"+tickets,.55*purchasedw,.89*purchasedh)):(this.context.lineWidth=1,this.context.shadowOffsetX=0,this.context.shadowOffsetY=0,PU.drawImage(chest1,0,0,chest1.width,chest1.height,.04*purchasedw,.2*purchasedh,.3*purchasedw,.48*purchasedh),PU.drawImage(chest2,0,0,chest2.width,chest2.height,.345*purchasedw,.2*purchasedh,.3*purchasedw,.48*purchasedh),PU.drawImage(chest3,0,0,chest2.width,chest2.height,.65*purchasedw,.2*purchasedh,.3*purchasedw,.48*purchasedh),PU.font="24px KanitM",PU.fillStyle="#1798c7",PU.fillText(_("BUY"),.05*purchasedw+.3*purchasedw/2-PU.measureText(_("BUY")).width/2,.2*purchasedh+.42*purchasedh),PU.fillText(_("BUY"),.345*purchasedw+.3*purchasedw/2-PU.measureText(_("BUY")).width/2,.2*purchasedh+.42*purchasedh),PU.fillText(_("BUY"),.65*purchasedw+.3*purchasedw/2-PU.measureText(_("BUY")).width/2,.2*purchasedh+.42*purchasedh),PU.drawImage(smallShopTicket,0,0,smallShopTicket.width,smallShopTicket.height,.45*purchasedw,.85*purchasedh,.09*purchasedw,.05*purchasedh),PU.fillStyle="#FFF",PU.fillText("x"+tickets,.55*purchasedw,.89*purchasedh))}}