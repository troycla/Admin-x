function currentTime(){return(new Date).getTime()}function rand(e,t){return Math.floor(e+Math.random()*(t+1-e))}function biasedRand(e,t,r=.5){return Math.floor(e+(t+1-e)*Math.pow(Math.random(),r))}function randBigNumber(e,t){var r=t.subtract(e);if(r.lessThan(Number.MAX_SAFE_INTEGER)){var n=rand(0,parseFloat(r));return new BigNumber(n).add(e)}var a=Math.random();return e.add(r.multiply(a))}function getMaxOfArray(e){return Math.max.apply(null,e)}function calculateAverageOfArray(e){var t=0,r=0;return e.forEach((function(e,n){t+=e,r++})),t/r}function gaussianRand(e=0,t=1,r=3){for(var n=0,a=0;a<r;a++)n+=Math.random();return t*(n-r/2)/(r/2)+e}function doBigNumberDecimalMultiplication(e,t){return e.multiply(t)}function divideBigNumberToDecimalNumber(e,t,r=3){return new BigNumber(e).divide(t).toFloat()}function bigNumberMin(...e){if(e.length<1)throw"Min of empty list";var t=e[0];return e.forEach((e=>{e.lessThan(t)&&(t=e)})),t}function bigNumberMax(...e){if(e.length<1)throw"Max of empty list";var t=e[0];return e.forEach((e=>{e.greaterThan(t)&&(t=e)})),t}function shuffleArray(e){for(var t=e.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}function randRoundToInteger(e){return Math.floor(e)+(Math.random()<e%1?1:0)}function oscillate(e,t){return Math.abs(e/t%2-1)}function lerp(e,t,r){return e+r*(t-e)}function formattedCountDown(e){if(e<=0)return"00:00:00";if(isFinite(e)){var t=e;if(isBigNumber(t)){var r=t.divide(3600).floor(),n=(t=t.subtract(r.multiply(3600))).divide(60).floor(),a=t=t.subtract(n.multiply(60));r=Math.floor(r.toFloat()),n=Math.floor(n.toFloat()),a=Math.floor(a.toFloat())}else{t-=3600*(r=Math.floor(t/3600)),t-=60*(n=Math.floor(t/60));a=Math.floor(t)}return r<10&&(r="0"+r),n<10&&(n="0"+n),a<10&&(a="0"+a),r+":"+n+":"+a}return e}function shortenedFormattedTime(e){if(e<=0)return"0s";var t="",r=e,n=Math.floor(r/86400);r-=86400*n;var a=Math.floor(r/3600);r-=3600*a;var o=Math.floor(r/60);r-=60*o;var i=Math.floor(r);return(n>1||1==n)&&(t+=n+_("d")+String.fromCharCode(8239)),(a>1||1==a)&&(t+=a+_("h")+String.fromCharCode(8239)),(o>1||1==o)&&(t+=o+_("m")+String.fromCharCode(8239)),(i>1||1==i)&&(t+=i+_("s")),t}function isBigNumber(e){return"object"==typeof e&&"BigNumber"==e.constructor.name}function beautifynum(e){if("object"==typeof e&&"BigNumber"==e.constructor.name||(e=new BigNumber(e)),e.lessThan(new BigNumber(1,9)))return addCommasToNumber(Math.floor(e.toFloat()));var t=e.coefficient,r=e.exponent%3;return r>0&&(t*=Math.pow(10,r)),(t=Math.floor(10*t)/10).toFixed(1)+" "+getNumberName(e).full}function shortenNum(e,t=3,r=3){"object"==typeof e&&"BigNumber"==e.constructor.name||(e=new BigNumber(e));var n=e.coefficient,a=e.exponent;if(a+1<r||e.lessThan(1e4))return addCommasToNumber(Math.floor(e.toFloat()));var o=a%3;return o>0&&(n*=Math.pow(10,o)),n.toFixed(t).replace(/\.?0+$/,"").replace(".000","")+getNumberName(e).short}const NUMBER_SUFFIXES=["","K","M","B","T","q","Q","s","S"];function shortenAndBeautifyNum(e,t=1){if("object"==typeof e&&"BigNumber"==e.constructor.name)return shortenNum(e,t);for(var r=0;r<3*NUMBER_SUFFIXES.length;r++)if(e<Math.pow(10,3*r+3))return(e/=Math.pow(10,3*r)).toFixed(t).replace("."+"0".repeat(t),"")+NUMBER_SUFFIXES[r]}function addCommasToNumber(e){return String(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")}function getNumberName(e){var t={full:"",short:""};return"object"==typeof e&&"BigNumber"==e.constructor.name||(e=new BigNumber(e)),e.exponent>=24?(t.full=_("SEPTILLION"),t.short="S"):e.exponent>=21?(t.full=_("SEXTILLION"),t.short="s"):e.exponent>=18?(t.full=_("QUINTILLION"),t.short="Q"):e.exponent>=15?(t.full=_("QUADRILLION"),t.short="q"):e.exponent>=12?(t.full=_("TRILLION"),t.short="T"):e.exponent>=9?(t.full=_("BILLION"),t.short="B"):e.exponent>=6?(t.full=_("MILLION"),t.short="M"):e.exponent>=3&&(t.full=_("THOUSAND"),t.short="K"),t}function isJavascriptFile(e){return confirmEnding(e,".js")}function confirmEnding(e,t){return e.substr(-t.length)===t}function replaceAll(e,t,r){return e.replace(new RegExp(t,"g"),r)}function getArraySum(e){return e.reduce((function(e,t){return e+t}),0)}var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,r,n,a,o,i,s,u="",c=0;for(e=Base64._utf8_encode(e);c<e.length;)a=(t=e.charCodeAt(c++))>>2,o=(3&t)<<4|(r=e.charCodeAt(c++))>>4,i=(15&r)<<2|(n=e.charCodeAt(c++))>>6,s=63&n,isNaN(r)?i=s=64:isNaN(n)&&(s=64),u=u+this._keyStr.charAt(a)+this._keyStr.charAt(o)+this._keyStr.charAt(i)+this._keyStr.charAt(s);return u},decode:function(e){var t,r,n,a,o,i,s="",u=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<e.length;)t=this._keyStr.indexOf(e.charAt(u++))<<2|(a=this._keyStr.indexOf(e.charAt(u++)))>>4,r=(15&a)<<4|(o=this._keyStr.indexOf(e.charAt(u++)))>>2,n=(3&o)<<6|(i=this._keyStr.indexOf(e.charAt(u++))),s+=String.fromCharCode(t),64!=o&&(s+=String.fromCharCode(r)),64!=i&&(s+=String.fromCharCode(n));return s=Base64._utf8_decode(s)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t},_utf8_decode:function(e){for(var t="",r=0,n=0,a=0,o=0;r<e.length;)(n=e.charCodeAt(r))<128?(t+=String.fromCharCode(n),r++):n>191&&n<224?(a=e.charCodeAt(r+1),t+=String.fromCharCode((31&n)<<6|63&a),r+=2):(a=e.charCodeAt(r+1),o=e.charCodeAt(r+2),t+=String.fromCharCode((15&n)<<12|(63&a)<<6|63&o),r+=3);return t}};function utf8_to_b64(e){try{return Base64.encode(unescape(encodeURIComponent(e)))}catch(e){return""}}function b64_to_utf8(e){try{return decodeURIComponent(escape(Base64.decode(e)))}catch(e){return""}}function getLanguageCode(e){switch(e){case"english":return"en";case"brazilian":return"pt-BR";case"bulgarian":return"bg";case"czech":return"cs";case"danish":return"da";case"dutch":return"nl";case"finnish":return"fi";case"french":return"fr";case"german":return"de";case"greek":return"el";case"hebrew":return"he";case"hungarian":return"hu";case"italian":return"it";case"japanese":return"ja";case"koreana":case"koreana":return"ko";case"norwegian":return"no";case"polish":return"pl";case"portuguese":return"pt";case"romanian":return"ro";case"russian":return"ru";case"schinese":return"zh-Hans";case"spanish":return"es";case"swedish":return"sv";case"tchinese":return"zh-Hant";case"thai":return"th";case"turkish":return"tr";case"ukrainian":return"uk";case"hindi":return"hi";case"indonesian":return"id";case"vietnamese":return"vi";case"slovak":return"sk";case"filipino":return"tl";default:return"en"}}function getLanguageFromCode(e){switch(e.substring(0,2)){case"en":return"english";case"pt":return"brazilian";case"bg":return"bulgarian";case"cs":return"czech";case"da":return"danish";case"nl":return"dutch";case"fi":return"finnish";case"fr":return"french";case"de":return"german";case"el":return"greek";case"he":return"hebrew";case"hu":return"hungarian";case"it":return"italian";case"ja":return"japanese";case"ko":case"ko":return"koreana";case"no":case"nb":case"nn":return"norwegian";case"pl":return"polish";case"pt":return"portuguese";case"ro":return"romanian";case"ru":return"russian";case"zh":return"schinese";case"es":return"spanish";case"sv":return"swedish";case"th":return"thai";case"tr":case"kr":return"turkish";case"uk":return"ukrainian";case"id":case"in":return"indonesian";case"ar":return"arabic";case"hi":return"hindi";case"vi":return"vietnamese";case"sk":return"slovak";case"tl":return"filipino";default:return"english"}}function loadJS(e,t,r){var n=document.createElement("script");return null!=t&&(n.callbackScope=r,n.onload=function(){t.call(this.callbackScope)}),n.src=e,n.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(n),!0}var savedCanvasStates={};function saveCanvasState(e){savedCanvasStates[e]={font:e.font,fillStyle:e.fillStyle,strokeStyle:e.strokeStyle}}function restoreCanvasState(e){savedCanvasStates.hasOwnProperty(e)&&(e.font=savedCanvasStates[e].font,e.fillStyle=savedCanvasStates[e].fillStyle,e.strokeStyle=savedCanvasStates[e].strokeStyle)}function generateRandomCharacter(){return"0123456789abcdefghijklmnopqurstuvwxyzABCDEFGHIJKLMNOPQURSTUVWXYZ".substr(Math.floor(62*Math.random()),1)}function hexToRgb(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function rgbToHex(e,t,r){return"#"+componentToHex(e)+componentToHex(t)+componentToHex(r)}function getInterpolatedColorArray(e,t,r,n,a){var o=[],i=hexToRgb(e);i.a=t;var s=hexToRgb(r);s.a=n;for(var u=s.r-i.r,c=s.g-i.g,l=s.b-i.b,f=s.a-i.a,h=0;h<=a;h++){var d=h/a,p={r:i.r+Math.round(d*u),g:i.g+Math.round(d*c),b:i.b+Math.round(d*l),a:Math.round(100*(i.a+d*f))/100};o.push(p)}return o}function shortenStringAndAddEllipsis(e,t){return e.length>t?e.substr(0,t-3)+"...":e}function getIndefiniteArticleForString(e){return["the","a","an"].includes(e.split(" ")[0].toLowerCase())?"":"aeiou8".includes(e[0].toLowerCase())?"an ":"a "}function fillTextWrapWithHeightLimit(e,t,r,n,a,o,i="left",s=.5,u="top",c){debugShrunkText&&(e.save(),e.fillStyle="#CCCCCC",e.strokeStyle="#000000",e.strokeRect(r,n,a,o),e.fillRect(r,n,a,o),e.restore()),e.save();var l=t+"_"+r+"_"+a;if(textSizeCache.exists(l))e.font=textSizeCache.get(l);else{var f=parseInt(e.font.split("px")[0]),h=e.font.split("px")[1],d=3*f*o/(Math.ceil(e.measureText(t).width/a)*(f*(1+s)));for(f>d&&(f=d,e.font=f+"px "+h);f>0&&fillTextWrap(e,t,r,n,a,i,s,!0).height>o;)f--,e.font=f+"px "+h;textSizeCache.set(l,e.font)}if("top"==u)var p=fillTextWrap(e,t,r,n,a,i,s,c);else{var m=o-fillTextWrap(e,t,r,n,a,i,s,!0).height;if("bottom"==u)p=fillTextWrap(e,t,r,n+m,a,i,s,c);else if("center"==u)p=fillTextWrap(e,t,r,n+m/2,a,i,s,c)}return p.font=e.font,e.restore(),p}function strokeTextWrapWithHeightLimit(e,t,r,n,a,o,i="left",s=.5,u="top"){debugShrunkText&&(e.save(),e.fillStyle="#CCCCCC",e.strokeStyle="#000000",e.strokeRect(r,n,a,o),e.fillRect(r,n,a,o),e.restore()),e.save();var c=t+"_"+r+"_"+a;if(textSizeCache.exists(c))e.font=textSizeCache.get(c);else{var l=parseInt(e.font.split("px")[0]),f=e.font.split("px")[1],h=3*l*o/(Math.ceil(e.measureText(t).width/a)*(l*(1+s)));for(l>h&&(l=h,e.font=l+"px "+f);strokeTextWrap(e,t,r,n,a,i,s,!0).height>o;)l--,e.font=l+"px "+f;textSizeCache.set(c,e.font)}if("top"==u)var d=strokeTextWrap(e,t,r,n,a,i,s,!1);else{var p=o-strokeTextWrap(e,t,r,n,a,i,s,!0).height;if("bottom"==u)d=strokeTextWrap(e,t,r,n+p,a,i,s,!1);else if("center"==u)d=strokeTextWrap(e,t,r,n+p/2,a,i,s,!1)}return e.restore(),d}function drawTextWrap(e,t,r,n,a,o,i,s,u){if(""==t||a<=0)return{x1:r,y1:n,x2:r,y2:n,width:0,height:0};var c,l=(t=(t=(t=t.toString()).replace(/<br>|\\n/g," \n ")).replace(/<[^<>]+>/g,"")).split(" "),f=[],h=[],d=0,p=n,m=parseInt(e.font.split("px")[0]),g=0,v=e.measureText(" ").width;e.save();for(var w=0;w<l.length;++w)if(""!=l[w]){if((c=e.measureText(l[w]).width+(w>0?v:0))>a){var b=Math.floor(l[w].length*a/c),x=l[w].slice(b);l[w]=l[w].slice(0,b),l.splice(w+1,0,x),c=e.measureText(l[w]).width+(w>0?v:0)}if("<br>"==l[w]||"\n"==l[w]||w>0&&d+c>a){switch(o){case"left":k=[f.join(" "),r,p];break;case"right":k=[f.join(" "),r+a-d,p];break;case"center":k=[f.join(" "),r+a/2-d/2,p];break;default:k=[f.join(" "),r,p]}var k;if(h.push({text:k[0],x:k[1],y:k[2]}),!s)switch(u){case"fill":e.fillText(...k);break;case"stroke":e.lineJoin="bevel",e.strokeText(...k);break;case"outline":e.lineJoin="bevel",e.strokeText(...k),e.fillText(...k);break;default:e.fillText(...k)}if(f=[],d=0,p+=m*(1+i),"<br>"==l[w]||"\n"==l[w])continue}f.push(l[w]),d+=c,c>a&&(m*=a/d,e.font=m+"px "+e.font.split("px")[1]),d>g&&(g=d)}switch(o){case"left":k=[f.join(" "),r,p];break;case"right":k=[f.join(" "),r+a-d,p];break;case"center":k=[f.join(" "),r+a/2-d/2,p];break;default:k=[f.join(" "),r,p]}if(h.push({text:k[0],x:k[1],y:k[2]}),!s)switch(u){case"fill":e.fillText(...k);break;case"stroke":e.lineJoin="bevel",e.strokeText(...k);break;case"outline":e.lineJoin="bevel",e.strokeText(...k),e.fillText(...k);break;default:e.fillText(...k)}return e.restore(),{x1:r,y1:n,x2:r+g,y2:p+m,width:g,height:p+m-n,lines:h}}function fillTextWrap(e,t,r,n,a,o="left",i=.5,s=!1){return drawTextWrap(e,t,r,n,a,o,i,s,"fill")}function strokeTextWrap(e,t,r,n,a,o="left",i=.5,s=!1){return drawTextWrap(e,t,r,n,a,o,i,s,"stroke")}function outlineTextWrap(e,t,r,n,a,o="left",i=.5,s=!1){return drawTextWrap(e,t,r,n,a,o,i,s,"outline")}var debugShrunkText=!1;function fillTextShrinkToFit(e,t,r,n,a,o="left",i=0,s=!1){if(debugShrunkText){e.save(),e.fillStyle="#CCCCCC",e.strokeStyle="#000000";var u=e.font.split("px")[0].split(" "),c=parseInt(u[u.length-1]);e.strokeRect(r,n,a,c),e.fillRect(r,n,a,c),e.restore()}e.save(),t=t.toString();var l=e.measureText(t).width,f=(u=e.font.split("px")[0].split(" "),parseInt(u[u.length-1])),h=1-i;if(l>a&&(i>0?(f*=a/(l*h),e.font=f+"px "+e.font.split("px")[1],e.scale(h,1),l=e.measureText(t).width,r/=h,a/=h):(f*=a/l,e.font=f+"px "+e.font.split("px")[1],l=e.measureText(t).width)),!s)switch(o){case"left":e.fillText(t,r,n);break;case"right":e.fillText(t,r+a-l,n);break;case"center":e.fillText(t,r+a/2-l/2,n)}return e.restore(),{x1:r,y1:n,x2:r+a/2+l/2,y2:n+f,width:l,height:f}}function strokeTextShrinkToFit(e,t,r,n,a,o="left"){e.save(),e.lineJoin="bevel",t=t.toString();var i=e.measureText(t).width,s=parseInt(e.font.split("px")[0]);switch(i>a&&(s=s*a/i,e.font=s+"px "+e.font.split("px")[1],i=e.measureText(t).width),o){case"left":e.strokeText(t,r,n);break;case"right":e.strokeText(t,r+a-i,n);break;case"center":e.strokeText(t,r+a/2-i/2,n)}return e.restore(),{x1:r,y1:n,x2:r+i,y2:n+s,width:i,height:s}}function getCanvasFractionalYOffset(){var e=document.createElement("canvas"),t=e.getContext("2d");e.height=20,e.width=20,t.font="20px Verdana",t.fillStyle="#FFFFFF",t.fillRect(0,0,e.width,e.height),t.fillStyle="#000000",t.textBaseline="top",t.fillText("F",0,0);for(var r=t.getImageData(0,0,20,20),n=Math.floor(e.width/2),a=0;a<e.height;++a){var o=4*(a*e.width+n);if(r.data[o]<255)return a/e.height}return 0}function roundRect(e,t,r,n,a,o,i,s){if(void 0===s&&(s=!0),void 0===o&&(o=5),"number"==typeof o)o={tl:o,tr:o,br:o,bl:o};else{var u={tl:0,tr:0,br:0,bl:0};for(var c in u)o[c]=o[c]||u[c]}e.beginPath(),e.moveTo(t+o.tl,r),e.lineTo(t+n-o.tr,r),e.quadraticCurveTo(t+n,r,t+n,r+o.tr),e.lineTo(t+n,r+a-o.br),e.quadraticCurveTo(t+n,r+a,t+n-o.br,r+a),e.lineTo(t+o.bl,r+a),e.quadraticCurveTo(t,r+a,t,r+a-o.bl),e.lineTo(t,r+o.tl),e.quadraticCurveTo(t,r,t+o.tl,r),e.closePath(),i&&e.fill(),s&&e.stroke()}function getScaledImageDimensions(e,t=-1,r=-1){return getScaledDimensions(e.width,e.height,t,r)}function getScaledDimensions(e,t,r=-1,n=-1){return-1==r&&-1==n?{width:t,height:t}:(-1==r?r=e*n/t:-1==n&&(n=t*r/e),{width:r,height:n})}function fitBoxInBox(e,t,r,n,a,o,i="center",s="center"){var u=1,c=0,l=0,f=o/t;return e*f>=a?l=getAlignmentOffset(s,t*(u=a/e),o):c=getAlignmentOffset(i,e*(u=f),a),{x:r+c,y:n+l,width:e*u,height:t*u}}function getAlignmentOffset(e,t,r){switch(e){case"center":return r/2-t/2;case"top":case"left":return 0;case"bottom":case"right":return r-t;default:return 0}}function getItemCoordsInList(e,t,r,n,a,o){var i=o%a;return{x:r*(i+1)+e*i,y:(n+t)*Math.floor(o/a)}}function openExternalLinkInDefaultBrowser(e){getBuildTarget()==STEAM_BUILD?require("electron").shell.openExternal(e):window.open(e,"_blank")}function generateExternalLinkHtml(e,t){return"<span style='cursor: pointer; color: #6666FF; text-decoration: underline;' onClick='openExternalLinkInDefaultBrowser(\""+e+"\")'>"+t+"</span>"}function openDiscord(){openExternalLinkInDefaultBrowser(_("https://discord.gg/C3KwWQr"))}function openTwitter(){openExternalLinkInDefaultBrowser("https://twitter.com/MrMineidle")}function openTikTok(){openExternalLinkInDefaultBrowser("https://www.tiktok.com/@mrmineidle")}function openInstagram(){openExternalLinkInDefaultBrowser("https://www.instagram.com/mrmineidle/")}function timeStampToDate(e){var t=new Date(e),r=t.getFullYear(),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()];return t.getDate()+" "+n+" "+r+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}function getSaveDetails(e){var t=b64_to_utf8(b64_to_utf8(e.split("|")[1])).split("|");return{money:t[0],depth:t[1]}}function fallbackCopyTextToClipboard(e){var t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{var r=document.execCommand("copy")?"successful":"unsuccessful";console.log("Fallback: Copying text command was "+r)}catch(e){console.error("Fallback: Oops, unable to copy",e)}document.body.removeChild(t)}function copyTextToClipboard(e){isMobile()&&cordova.plugins.clipboard.copy(e),navigator.clipboard?navigator.clipboard.writeText(e).then((function(){console.log("Async: Copying to clipboard was successful!")}),(function(e){console.error("Async: Could not copy text: ",e)})):fallbackCopyTextToClipboard(e)}function getStandardDeviation(e){const t=e.length,r=e.reduce(((e,t)=>e+t))/t;return Math.sqrt(e.map((e=>Math.pow(e-r,2))).reduce(((e,t)=>e+t))/t)}function getPageLoadPercent(){for(var e=document.getElementsByTagName("img"),t=0,r=0;r<e.length;r++)e[r].complete&&void 0!==e[r].naturalWidth&&0!=e[r].naturalWidth&&t++;return t/e.length}function duplicate2dArray(e){for(var t=[],r=0;r<e.length;r++)t[r]=e[r].slice();return t}function create2dArray(e,t,r){for(var n=[],a=0;a<t;a++){n.push([]);for(var o=0;o<e;o++)n[a].push(r)}return n}function deepCopyObject(e){return JSON.parse(JSON.stringify(e))}var LZString=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",n={};function a(e,t){if(!n[e]){n[e]={};for(var r=0;r<e.length;r++)n[e][e.charAt(r)]=r}return n[e][t]}var o={compressToBase64:function(e){if(null==e)return"";var r=o._compress(e,6,(function(e){return t.charAt(e)}));switch(r.length%4){default:case 0:return r;case 1:return r+"===";case 2:return r+"==";case 3:return r+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:o._decompress(e.length,32,(function(r){return a(t,e.charAt(r))}))},compressToUTF16:function(t){return null==t?"":o._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:o._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=o.compress(e),r=new Uint8Array(2*t.length),n=0,a=t.length;n<a;n++){var i=t.charCodeAt(n);r[2*n]=i>>>8,r[2*n+1]=i%256}return r},decompressFromUint8Array:function(t){if(null==t)return o.decompress(t);for(var r=new Array(t.length/2),n=0,a=r.length;n<a;n++)r[n]=256*t[2*n]+t[2*n+1];var i=[];return r.forEach((function(t){i.push(e(t))})),o.decompress(i.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":o._compress(e,6,(function(e){return r.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),o._decompress(e.length,32,(function(t){return a(r,e.charAt(t))})))},compress:function(t){return o._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,r){if(null==e)return"";var n,a,o,i={},s={},u="",c="",l="",f=2,h=3,d=2,p=[],m=0,g=0;for(o=0;o<e.length;o+=1)if(u=e.charAt(o),Object.prototype.hasOwnProperty.call(i,u)||(i[u]=h++,s[u]=!0),c=l+u,Object.prototype.hasOwnProperty.call(i,c))l=c;else{if(Object.prototype.hasOwnProperty.call(s,l)){if(l.charCodeAt(0)<256){for(n=0;n<d;n++)m<<=1,g==t-1?(g=0,p.push(r(m)),m=0):g++;for(a=l.charCodeAt(0),n=0;n<8;n++)m=m<<1|1&a,g==t-1?(g=0,p.push(r(m)),m=0):g++,a>>=1}else{for(a=1,n=0;n<d;n++)m=m<<1|a,g==t-1?(g=0,p.push(r(m)),m=0):g++,a=0;for(a=l.charCodeAt(0),n=0;n<16;n++)m=m<<1|1&a,g==t-1?(g=0,p.push(r(m)),m=0):g++,a>>=1}0==--f&&(f=Math.pow(2,d),d++),delete s[l]}else for(a=i[l],n=0;n<d;n++)m=m<<1|1&a,g==t-1?(g=0,p.push(r(m)),m=0):g++,a>>=1;0==--f&&(f=Math.pow(2,d),d++),i[c]=h++,l=String(u)}if(""!==l){if(Object.prototype.hasOwnProperty.call(s,l)){if(l.charCodeAt(0)<256){for(n=0;n<d;n++)m<<=1,g==t-1?(g=0,p.push(r(m)),m=0):g++;for(a=l.charCodeAt(0),n=0;n<8;n++)m=m<<1|1&a,g==t-1?(g=0,p.push(r(m)),m=0):g++,a>>=1}else{for(a=1,n=0;n<d;n++)m=m<<1|a,g==t-1?(g=0,p.push(r(m)),m=0):g++,a=0;for(a=l.charCodeAt(0),n=0;n<16;n++)m=m<<1|1&a,g==t-1?(g=0,p.push(r(m)),m=0):g++,a>>=1}0==--f&&(f=Math.pow(2,d),d++),delete s[l]}else for(a=i[l],n=0;n<d;n++)m=m<<1|1&a,g==t-1?(g=0,p.push(r(m)),m=0):g++,a>>=1;0==--f&&(f=Math.pow(2,d),d++)}for(a=2,n=0;n<d;n++)m=m<<1|1&a,g==t-1?(g=0,p.push(r(m)),m=0):g++,a>>=1;for(;;){if(m<<=1,g==t-1){p.push(r(m));break}g++}return p.join("")},decompress:function(e){return null==e?"":""==e?null:o._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,r,n){var a,o,i,s,u,c,l,f=[],h=4,d=4,p=3,m="",g=[],v={val:n(0),position:r,index:1};for(a=0;a<3;a+=1)f[a]=a;for(i=0,u=Math.pow(2,2),c=1;c!=u;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=r,v.val=n(v.index++)),i|=(s>0?1:0)*c,c<<=1;switch(i){case 0:for(i=0,u=Math.pow(2,8),c=1;c!=u;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=r,v.val=n(v.index++)),i|=(s>0?1:0)*c,c<<=1;l=e(i);break;case 1:for(i=0,u=Math.pow(2,16),c=1;c!=u;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=r,v.val=n(v.index++)),i|=(s>0?1:0)*c,c<<=1;l=e(i);break;case 2:return""}for(f[3]=l,o=l,g.push(l);;){if(v.index>t)return"";for(i=0,u=Math.pow(2,p),c=1;c!=u;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=r,v.val=n(v.index++)),i|=(s>0?1:0)*c,c<<=1;switch(l=i){case 0:for(i=0,u=Math.pow(2,8),c=1;c!=u;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=r,v.val=n(v.index++)),i|=(s>0?1:0)*c,c<<=1;f[d++]=e(i),l=d-1,h--;break;case 1:for(i=0,u=Math.pow(2,16),c=1;c!=u;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=r,v.val=n(v.index++)),i|=(s>0?1:0)*c,c<<=1;f[d++]=e(i),l=d-1,h--;break;case 2:return g.join("")}if(0==h&&(h=Math.pow(2,p),p++),f[l])m=f[l];else{if(l!==d)return null;m=o+o.charAt(0)}g.push(m),f[d++]=o+m.charAt(0),o=m,0==--h&&(h=Math.pow(2,p),p++)}}};return o}();function assert(e,t){if(!e)throw t||"Assertion failed"}function ajax(e,t,r,n=null){var a;if(t){"object"==typeof t?a=createQueryString(t):"string"==typeof t&&(a=t),"POST"!=(r=r.toUpperCase())&&(e+="?"+a,a=null);var o=new XMLHttpRequest;o.open(r,e,!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.onreadystatechange=function(){4==o.readyState&&null!=n&&(void 0!==o.responseText?n(o.responseText,o):n(null,o))},o.send(a)}}function createQueryString(e){var t=[];return Object.keys(e).forEach((function(r){t.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]))})),t.join("&")}function handleNameSubmission(){ajax("https://mrmine.com/game/desktop/backend/minernames.php",{uid:platform.getUserId()},"GET",(function(e){e&&(e=JSON.parse(e)).isEligible&&(paidForMinerName=!0,showSimpleInput(_("Thank you for contributing to Mr.Mine! As a reward, please enter your name to appear in-game under a miner (Max 12 characters)."),_("Submit Name"),"",(function(){var e=document.getElementById("simpleInputFieldText").value;ajax("https://mrmine.com/game/desktop/backend/minernames.php",{uid:platform.getUserId(),name:e},"POST",(function(e){if(e)if((e=JSON.parse(e)).success){hideSimpleInput();customMinerDatabaseIndex=e.currentNameCount;Math.floor(e.currentNameCount/10),e.currentNameCount;alert(_("Thank you! Your name will be added in the next update. It will be assigned to a miner between 100 and 300km. Soon you will be able to customize your miner too!"))}else alert(_("Sorry, something went wrong. Please try again."))}))}),_("Cancel"),12))}))}"function"==typeof define&&define.amd?define((function(){return LZString})):"undefined"!=typeof module&&null!=module?module.exports=LZString:"undefined"!=typeof angular&&null!=angular&&angular.module("LZString",[]).factory("LZString",(function(){return LZString}));var remainingLanguages=[],screenshotsTaken=0;function takeScreeshotsForAllLanguages(){for(var e in screenshotsTaken++,remainingLanguages=[],translations)remainingLanguages.push(e);console.log(remainingLanguages),takeScreeshotForLanguage()}function takeScreeshotForLanguage(){if(console.log(remainingLanguages),0==remainingLanguages.length)return void console.log("finished");language=remainingLanguages[0],remainingLanguages.shift();let e="../Screenshots/screenshot_"+screenshotsTaken,t=e+"/"+(language+"_"+currentTime()+".png");fs.existsSync(e)?takeScreenshot(t).then((()=>{takeScreeshotForLanguage()})):fs.mkdir(e,{},(e=>{e?console.log(e):takeScreenshot(t).then((()=>{takeScreeshotForLanguage()}))})),console.log(language)}function takeScreenshot(e){animate();let t=getCurrentWindow();return t.webContents.capturePage({x:0,y:0,width:t.getSize()[0],height:t.getSize()[1]}).then((t=>{fs.writeFile(e,t.toPNG(),"base64",(function(e){if(e)throw e;console.log("Saved!")}))})).catch((e=>{console.log(e)}))}function getStandardDeviationPercent(e){return erf(e/Math.SQRT2)}function cdf(e,t,r){return.5*(1+erf((e-t)/Math.sqrt(2*r)))}function erf(e){var t=e>=0?1:-1,r=1/(1+.3275911*(e=Math.abs(e)));return t*(1-((((1.061405429*r-1.453152027)*r+1.421413741)*r-.284496736)*r+.254829592)*r*Math.exp(-e*e))}function getBezierXY(e,t,r,n,a,o,i,s,u){return{x:Math.pow(1-e,3)*t+3*e*Math.pow(1-e,2)*n+3*e*e*(1-e)*o+e*e*e*s,y:Math.pow(1-e,3)*r+3*e*Math.pow(1-e,2)*a+3*e*e*(1-e)*i+e*e*e*u}}function getBezierAngle(e,t,r,n,a,o,i,s,u){var c=Math.pow(1-e,2)*(n-t)+2*e*(1-e)*(o-n)+e*e*(s-o),l=Math.pow(1-e,2)*(a-r)+2*e*(1-e)*(i-a)+e*e*(u-i);return-Math.atan2(c,l)+.5*Math.PI}function generateNameStubs(e){for(var t="",r=paidMinerNames[paidMinerNames.length-1].depth+rand(1,2),n=1,a=0;a<e;){if(!isDepthWithoutWorkers(r)&&!isDepthWithoutWorkers(r-1)&&!isDepthWithoutWorkers(r+1)){for(var o=rand(1,9);o==n;)o=rand(1,9);n=o,t+='{"name": String.fromCharCode(9733) + "", "depth": '+r+', "workerIndex": '+o+"},\r\n",a++}r+=rand(1,2)}return t}function runScenes(){buffs.activeBuffs=[];var scene4="function(){generateAnimatedSequence(360, 480, 993, 1003, 25);}",scene3="function(){generateAnimatedSequence(240, 360, 980, 990, 25, "+scene4+");}",scene2="function(){generateAnimatedSequence(120, 240, 293, 300, 25, "+scene3+");}",scene1="function(){generateAnimatedSequence(0, 120, 1, 4, 25, "+scene2+");}";eval("("+scene1+")();")}function runFadeToBlack(){buffs.activeBuffs=[],worldAtDepth(1).workersHired=1,worldAtDepth(1).workerLevel=0;var scene9="function(){generateAnimatedSequence(2000, 2250, 80, 90, 25); worldAtDepth(1).workersHired = 10; worldAtDepth(1).workerLevel = 7;}",scene8="function(){generateAnimatedSequence(1750, 2000, 70, 80, 25, "+scene9+"); worldAtDepth(1).workersHired = 10; worldAtDepth(1).workerLevel = 6;}",scene7="function(){generateAnimatedSequence(1500, 1750, 60, 70, 25, "+scene8+"); worldAtDepth(1).workersHired = 10; worldAtDepth(1).workerLevel = 5;}",scene6="function(){generateAnimatedSequence(1250, 1500, 50, 60, 25, "+scene7+"); worldAtDepth(1).workersHired = 10; worldAtDepth(1).workerLevel = 4;}",scene5="function(){generateAnimatedSequence(1000, 1250, 40, 50, 25, "+scene6+"); worldAtDepth(1).workersHired = 10; worldAtDepth(1).workerLevel = 3;}",scene4="function(){generateAnimatedSequence(750, 1000, 30, 40, 25, "+scene5+"); worldAtDepth(1).workersHired = 10; worldAtDepth(1).workerLevel = 2;}",scene3="function(){generateAnimatedSequence(500, 750, 20, 30, 25, "+scene4+"); worldAtDepth(1).workersHired = 10; worldAtDepth(1).workerLevel = 1;}",scene2="function(){generateAnimatedSequence(250, 500, 10, 20, 25, "+scene3+"); worldAtDepth(1).workersHired = 10; worldAtDepth(1).workerLevel = 0;}",scene1="function(){generateAnimatedSequence(0, 250, 1, 10, 25, "+scene2+"); worldAtDepth(1).workersHired = 5; worldAtDepth(1).workerLevel = 0;}";eval("("+scene1+")();")}function generateAnimatedSequence(startFrameNumber,endFrameNumber,startRenderDepth,endRenderDepth,fps,finalCallback="function(){console.log('done');}"){for(var callbackChain="(",i=startFrameNumber;i<endFrameNumber;i++){var renderDepthFloat=startRenderDepth+(i-startFrameNumber)/(endFrameNumber-startFrameNumber)*(endRenderDepth-startRenderDepth);callbackChain+="function(){ generateSeamlessWorldImage("+i+", "+fps+", "+renderDepthFloat+", "}callbackChain+=finalCallback;for(var i=startFrameNumber;i<endFrameNumber;i++)callbackChain+=")}";callbackChain+=")();",eval(callbackChain)}function generateSeamlessWorldImage(e,t,r,n){framesRendered2;var a=t/10,o=Math.floor(e/a);currentlyViewedDepth=Math.floor(r),framesRendered2=o,numFramesRendered=o,animate();var i=document.createElement("canvas");i.width=mainw,i.height=2*mainh;var s=document.createElement("canvas");s.width=mainw,s.height=mainh,i.getContext("2d").drawImage(main,.082*mainw,.112*mainh,.853*mainw,.888*mainh,0,0,mainw,mainh),currentlyViewedDepth=Math.min(currentlyViewedDepth+5,depth),framesRendered2=o,numFramesRendered=o,animate(),i.getContext("2d").drawImage(main,.082*mainw,.112*mainh,.853*mainw,.888*mainh,0,mainh,mainw,mainh),s.getContext("2d").drawImage(i,0,mainh*(r%1*.2),mainw,mainh,0,0,mainw,mainh);const u=s.toDataURL("image/png").replace(/^data:image\/png;base64,/,"");fs.writeFile("../Screenshots/videoFrames/"+e+".png",u,"base64",(function(e){n()}))}function generateDrillCombinationAnimations(e){for(var t=[],r=0;r<4;r++){var n=document.createElement("canvas");n.width=1920,n.height=1080;var a=n.getContext("2d");t.push(n);for(var o=0;o<32;o++)a.drawImage(window["drilltop"+o],r%4*168,0,168,158,o%10*192,216*Math.floor(o/10),168,158),a.drawImage(window["drillbit"+o],r%4*168,0,168,158,o%10*192,216*Math.floor(o/10),168,158);const i=n.toDataURL("image/png").replace(/^data:image\/png;base64,/,"");fs.writeFile("../Screenshots/drillFrames/"+r+".png",i,"base64",(function(t){e()}))}}function isDev(){return"undefined"!=typeof process?void 0!==process.env.APP_DEV&&process.env.APP_DEV.includes("true"):!!window.location&&"https://mrmine.com/dev/desktop/index.html"==window.location.href.split("?")[0]}function getId(e){for(var t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=r.length,a=0;a<e;a++)t+=r.charAt(Math.floor(Math.random()*n));return t}function unicodeToStringCode(e){for(var t="",r=e.split("&#"),n=0;n<r.length;n++){var a=r[n].split(";")[0],o=r[n].split(";")[1];isNaN(a)?t+=a:t+=String.fromCharCode(a),void 0!==o&&(t+=o)}return t}async function testWebmUnpack(){let e=await fetch("Shared/Assets/Unused/output.webm").then((e=>e.blob())),t=URL.createObjectURL(e),r=document.createElement("video");for(r.src=t,r.crossOrigin="anonymous",document.body.append(r),await r.play(),r.addEventListener("seeked",(async()=>{seekResolve&&seekResolve()}));(r.duration===1/0||isNaN(r.duration))&&r.readyState<2;)await new Promise((e=>setTimeout(e,1e3)));var n=document.createElement("canvas");n.width=30*r.videoWidth,n.height=r.videoHeight;for(var a=n.getContext("2d"),o=30/r.duration,i=0;i<30;i++)r.currentTime=(i+.5)*o,r.play(),await new Promise((e=>seekResolve=e)),a.drawImage(r,i*r.videoWidth,0);console.log("ended"),testWebm.src=n.toDataURL("image/webp",1)}