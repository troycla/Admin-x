class HireWindow extends TabbedPopupWindow{layerName="Hire";domElementId="HIRED";context=HR;worldIndex;resourcePane;hireResults={};constructor(t,i){super(t),t||this.setBoundingBox(),this.setFrameImagesByWorldIndex(i),this.worldIndex=i,this.initializeTabs(Object.values({})),this.hirePane=new Hitbox({x:0,y:0,width:this.boundingBox.width,height:this.boundingBox.height},{},"","hirePane"),this.hirePane.allowBubbling=!0,this.addHitbox(this.hirePane),this.initializeHireHitboxes()}initializeHireHitboxes(){this.hirePane.clearHitboxes(),this.getWorld().workersHired<10&&this.hirePane.addHitbox(new Hitbox({x:.35*this.boundingBox.width,y:.14*this.boundingBox.height,width:.28*this.boundingBox.width,height:.28*this.boundingBox.height},{onmousedown:function(){hireMiner(this.parent.parent.worldIndex),pinnedBlueprintsManager.update(),mutebuttons||clickAudio[rand(0,clickAudio.length-1)].play()},onmouseenter:function(){0==getEarth().workersHired?showTooltip(_("Hire your first miner"),_("Miners will work hard to find minerals you don't need to."),"57%","29%"):1==getEarth().workersHired&&showTooltip(_("Hire your second miner"),_("Miners will work hard to find minerals you don't need to."),"57%","29%")},onmouseexit:function(){hideTooltip()}},"pointer","hireButton"));for(var t=1;t<11;t++)t<6?this.hirePane.addHitbox(new Hitbox({x:.125*this.boundingBox.width,y:this.boundingBox.height*(.48+.08*(t-1)),width:.3*this.boundingBox.width,height:.07*this.boundingBox.height},{onmousedown:function(){console.log(this.parent.parent),upgradeMiners(this.parent.parent.worldIndex),pinnedBlueprintsManager.update(),mutebuttons||clickAudio[rand(0,clickAudio.length-1)].play()}},"pointer","upgradeButton_"+t)):this.hirePane.addHitbox(new Hitbox({x:.55*this.boundingBox.width,y:this.boundingBox.height*(.48+.08*(t-6)),width:.3*this.boundingBox.width,height:.07*this.boundingBox.height},{onmousedown:function(){console.log(this.parent.parent),upgradeMiners(this.parent.parent.worldIndex),pinnedBlueprintsManager.update(),mutebuttons||clickAudio[rand(0,clickAudio.length-1)].play()}},"pointer","upgradeButton_"+t))}getWorld(){return worlds[this.worldIndex]}getResources(){return this.getWorld().mineralIdsToSell}render(){this.context.save(),this.context.clearRect(0,0,this.boundingBox.width,this.boundingBox.height),this.context.restore(),super.render(),this.context.fillStyle="#FFFFFF";if(this.context.font="14px Verdana",this.getWorld().workersHired<10){this.context.drawImage(hireb,0,0,hireb.width,hireb.height,.35*this.boundingBox.width,.14*this.boundingBox.height,.28*this.boundingBox.width,.28*this.boundingBox.height),this.context.fillStyle="#000000";var t=this.context.font;this.context.font="32px KanitB",this.context.fillText(_("HIRE"),.32*this.boundingBox.width+.34*this.boundingBox.width/2-this.context.measureText(_("HIRE")).width/2,.11*this.boundingBox.height+.34*this.boundingBox.height/2+10),this.context.font=t,money.greaterThanOrEqualTo(getEarth().workerHireCost())&&0==getEarth().workersHired&&this.context.drawImage(arrowright,0,0,arrowright.width,arrowright.height,.25*this.boundingBox.width+oscillate(numFramesRendered,8)*this.boundingBox.width*.018,.2*this.boundingBox.height,Math.floor(.15*this.boundingBox.width),Math.floor(.15*this.boundingBox.height))}else{this.context.save(),this.context.fillStyle="#FFFFFF",this.context.strokeStyle="#000000",this.context.lineWidth=3,this.context.textBaseline="bottom";t=this.context.font;this.context.font="20px KanitM";var i=_("Miner Efficiency: {0}/10",this.getWorld().workerLevel);this.context.strokeText(i,.32*this.boundingBox.width+.34*this.boundingBox.width/2-this.context.measureText(i).width/2,.11*this.boundingBox.height+.34*this.boundingBox.height/2+10),this.context.fillText(i,.32*this.boundingBox.width+.34*this.boundingBox.width/2-this.context.measureText(i).width/2,.11*this.boundingBox.height+.34*this.boundingBox.height/2+10),this.context.restore(),this.getWorld().workerLevel<10&&this.context.fillText(_("Upgrade Efficiency Below"),.32*this.boundingBox.width+.34*this.boundingBox.width/2-this.context.measureText("Upgrade Efficiency Below").width/2,.11*this.boundingBox.height+.35*this.boundingBox.height)}this.context.fillStyle="#000000";for(var e=1;e<11;e++)10==this.getWorld().workersHired?this.getWorld().workerLevel>=e?e<6?(this.context.drawImage(upgradeb,0,0,upgradeb.width,upgradeb.height,.125*this.boundingBox.width,this.boundingBox.height*(.48+.08*(e-1)),.3*this.boundingBox.width,.07*this.boundingBox.height),this.context.fillText("$"+beautifynum(doBigNumberDecimalMultiplication(this.getWorld().workerLevelCosts[e],STAT.minerUpgradeAndHireCostMultiplier())),.2*this.boundingBox.width,this.boundingBox.height*(.53+.08*(e-1)),125),this.context.drawImage(craftcheck,0,0,129,21,.125*this.boundingBox.width,this.boundingBox.height*(.48+.08*(e-1)),.3*this.boundingBox.width,.07*this.boundingBox.height)):(this.context.drawImage(upgradeb,0,0,upgradeb.width,upgradeb.height,.55*this.boundingBox.width,this.boundingBox.height*(.48+.08*(e-6)),.3*this.boundingBox.width,.07*this.boundingBox.height),this.context.fillText("$"+beautifynum(doBigNumberDecimalMultiplication(this.getWorld().workerLevelCosts[e],STAT.minerUpgradeAndHireCostMultiplier())),.62*this.boundingBox.width,this.boundingBox.height*(.53+.08*(e-6)),125),this.context.drawImage(craftcheck,0,0,129,21,.55*this.boundingBox.width,this.boundingBox.height*(.48+.08*(e-6)),.3*this.boundingBox.width,.07*this.boundingBox.height)):this.getWorld().workerLevel==e-1?e<6?(this.context.drawImage(upgradeb,0,0,upgradeb.width,upgradeb.height,.125*this.boundingBox.width,this.boundingBox.height*(.48+.08*(e-1)),.3*this.boundingBox.width,.07*this.boundingBox.height),this.context.fillText("$"+beautifynum(doBigNumberDecimalMultiplication(this.getWorld().workerLevelCosts[e],STAT.minerUpgradeAndHireCostMultiplier())),.2*this.boundingBox.width,this.boundingBox.height*(.53+.08*(e-1)),125)):(this.context.drawImage(upgradeb,0,0,upgradeb.width,upgradeb.height,.55*this.boundingBox.width,this.boundingBox.height*(.48+.08*(e-6)),.3*this.boundingBox.width,.07*this.boundingBox.height),this.context.fillText("$"+beautifynum(doBigNumberDecimalMultiplication(this.getWorld().workerLevelCosts[e],STAT.minerUpgradeAndHireCostMultiplier())),.62*this.boundingBox.width,this.boundingBox.height*(.53+.08*(e-6)),125)):e<6?this.context.drawImage(upgradebg,0,0,upgradebg.width,upgradebg.height,.125*this.boundingBox.width,this.boundingBox.height*(.48+.08*(e-1)),.3*this.boundingBox.width,.07*this.boundingBox.height):this.context.drawImage(upgradebg,0,0,upgradebg.width,upgradebg.height,.55*this.boundingBox.width,this.boundingBox.height*(.48+.08*(e-6)),.3*this.boundingBox.width,.07*this.boundingBox.height):e<6?this.context.drawImage(upgradebg,0,0,upgradebg.width,upgradebg.height,.125*this.boundingBox.width,this.boundingBox.height*(.48+.08*(e-1)),.3*this.boundingBox.width,.07*this.boundingBox.height):this.context.drawImage(upgradebg,0,0,upgradebg.width,upgradebg.height,.55*this.boundingBox.width,this.boundingBox.height*(.48+.08*(e-6)),.3*this.boundingBox.width,.07*this.boundingBox.height);if(this.getWorld().workersHired<10){this.context.fillStyle="#FFFFFF";var o=_("Cost to hire: ${0}",beautifynum(this.getWorld().workerHireCost()));this.context.fillText(o,.5*this.boundingBox.width-.5*this.context.measureText(o).width,.45*this.boundingBox.height),this.context.fillStyle="#000000"}showHirerDialogue()}close(){return activeLayers.MainUILayer.removeDialogueAttachment(),animate(),super.close()}levelUpButtonClick(t){return function(){var i=this.parent.parent.getResources(),e=worldResources[i[t]],o=100*e.sellValue*Math.max(1,3*e.level);e.level<5&&money.greaterThanOrEqualTo(o)&&(subtractMoney(o),e.level++)}}}