class EventHook{_callbacks=[];addCallback(l){if("function"!=typeof l)throw"Callback must be a function";this._callbacks.push(l)}deleteCallback(l){for(var c=this._callbacks.length-1;c>=0;--c)this._callbacks[c]===l&&this._callbacks.splice(c,1)}fire(...l){for(var c=[],a=0;a<this._callbacks.length;++a)if("function"==typeof this._callbacks[a])try{this._callbacks[a](...l)}catch(l){c.push(a),console.error(l);continue}else c.push(a),console.warn("Attempting to call invalid callback");if(c.length>0)for(a=this._callbacks.length-1;a>=0;--a)c.includes(a)&&this._callbacks.splice(a,1)}}